<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AusSuper CSV Debug</title>
<style>
  body { font-family: Arial, sans-serif; padding: 40px; max-width: 800px; margin: auto; background: #f5f5f5; }
  #csvContent { 
    background: #000; 
    color: #0f0; 
    font-family: monospace; 
    padding: 20px; 
    border-radius: 10px; 
    margin: 20px 0; 
    max-height: 400px; 
    overflow-y: auto; 
    white-space: pre-wrap;
    text-align: left;
  }
  button { padding: 15px 30px; font-size: 1.2em; background: #0078d4; color: white; border: none; border-radius: 8px; cursor: pointer; margin: 10px; }
  .status { font-size: 1.2em; color: #666; margin: 15px 0; }
</style>
</head>
<body>

<h1>ðŸ¤‘ AusSuper CSV Debug - Full Content</h1>
<div class="status" id="status">Fetching CSV...</div>
<div id="csvContent">Loading...</div>
<button id="refreshBtn">ðŸ”„ Refresh CSV</button>

<script>
const CSV_URL = 'https://www.australiansuper.com//api/graphs/dailyrates/download/?start=01/02/2026&end=08/02/2026&cumulative=False&superType=super&truncateDecimalPlaces=True&outputFilename=temp.csv';

const PROXIES = [
  'https://corsproxy.io/?',
  'https://api.codetabs.com/v1/proxy?quest='
];

async function fetchCsv() {
  const status = document.getElementById('status');
  const csvContent = document.getElementById('csvContent');
  
  status.textContent = 'Trying Proxy 1/2...';
  
  for (let i = 0; i < PROXIES.length; i++) {
    try {
      const proxyUrl = PROXIES[i] + encodeURIComponent(CSV_URL);
      status.textContent = `Proxy ${i+1}: ${PROXIES[i].substring(0, 20)}...`;
      
      const response = await fetch(proxyUrl, { 
        headers: { 'User-Agent': 'Mozilla/5.0' }
      });
      
      const csvText = await response.text();
      csvContent.textContent = csvText;
      
      status.textContent = `âœ… Proxy ${i+1} SUCCESS (${csvText.length} chars)`;
      return;
      
    } catch (e) {
      status.textContent = `âŒ Proxy ${i+1} failed`;
    }
  }
  
  csvContent.textContent = 'ALL PROXIES FAILED';
  status.textContent = 'âŒ No CSV data received';
}

fetchCsv();
document.getElementById('refreshBtn').addEventListener('click', fetchCsv);
</script>

</body>
</html>
